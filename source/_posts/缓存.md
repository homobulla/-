---
title: æµè§ˆå™¨ç¼“å­˜
date: 2018-06-11 11:10:00
tags: [js]
categories: js
---


### æµè§ˆå™¨çš„ç¼“å­˜

### ç¼“å­˜åœ¨å®è§‚ä¸Šåˆ†ä¸¤ç±»ï¼š
- ç§æœ‰ç¼“å­˜ï¼š ç”¨æˆ·ä¸“äº«çš„ï¼Œå„çº§ä»£ç†ä¸èƒ½ç¼“å­˜çš„ç¼“å­˜
- å…±äº«ç¼“å­˜ï¼š èƒ½è¢«å„çº§ä»£ç†ç¼“å­˜çš„ç¼“å­˜

### å¾®è§‚ä¸Šåˆ†ä¸‰ç±»ï¼š
- æµè§ˆå™¨ç¼“å­˜ï¼šé€šå¸¸æˆ‘ä»¬åœ¨å¼€å‘é˜¶æ®µç»å¸¸è¯´çš„â€œæ¸…é™¤æµè§ˆå™¨ç¼“å­˜"
- ä»£ç†æœåŠ¡å™¨ç¼“å­˜ï¼šç±»ä¼¼äºä¸€ä¸ªå¤§å‹çš„æµè§ˆå™¨ç¼“å­˜ï¼Œåªä¸è¿‡è¢«å¾ˆå¤šäººä½¿ç”¨
- ç½‘å…³ç¼“å­˜ï¼šä¹Ÿè¢«ç§°ä¸ºä»£ç†ç¼“å­˜æˆ–åå‘ä»£ç†ç¼“å­˜ï¼Œç½‘å…³ä¹Ÿæ˜¯ä¸€ä¸ªä¸­é—´æœåŠ¡å™¨ï¼Œç½‘å…³ç¼“å­˜ä¸€èˆ¬æ˜¯ç½‘ç«™ç®¡ç†å‘˜è‡ªå·±éƒ¨ç½²ï¼Œä»è®©ç½‘ç«™æ‹¥æœ‰æ›´å¥½çš„æ€§èƒ½ã€‚
    CDNS(ç½‘ç»œå†…å®¹åˆ†å‘å•†)åˆ†å¸ƒç½‘å…³ç¼“å­˜åˆ°æ•´ä¸ªï¼ˆæˆ–éƒ¨åˆ†ï¼‰äº’è”ç½‘ä¸Šï¼Œå¹¶å‡ºå”®ç¼“å­˜æœåŠ¡ç»™éœ€è¦çš„ç½‘ç«™ï¼Œæ¯”å¦‚å›½å†…çš„ä¸ƒç‰›äº‘ã€åˆæ‹äº‘éƒ½æœ‰è¿™ç§æœåŠ¡ã€‚

### æµè§ˆå™¨çš„ç¼“å­˜ç­–ç•¥
é¡µé¢çš„ç¼“å­˜çŠ¶æ€ç”±`Response Headers`å†³å®šã€‚

> Age:23146 <br>
> Cache-Control:public,max-age=2592000&nbsp;&nbsp;(public:æŒ‡å®šå“åº”ä¼šè¢«ç¼“å­˜ï¼Œå¹¶ä¸”åœ¨å¤šç”¨æˆ·é—´å…±äº«, &nbsp;&nbsp;max-age:è®¾ç½®ç¼“å­˜æœ€å¤§çš„æœ‰æ•ˆæ—¶é—´) <br>
> Date:Tue, 28 Nov 2017 12:26:41 GMT <br>
> ETag:W/"5a1cf09a-63c6" &nbsp;&nbsp;(åŸºäºå†…å®¹ç”Ÿæˆ) <br> 
> Expires:Thu, 28 Dec 2017 05:27:45 GMT <br>
> Last-Modified:Tue, 28 Nov 2017 05:14:02 GMT  &nbsp;&nbsp; ( æœåŠ¡å™¨ç«¯æ–‡ä»¶çš„æœ€åä¿®æ”¹æ—¶é—´)<br>
> Vary:Accept-Encoding <br>


#### 1.å¼ºç¼“å­˜é˜¶æ®µ(æœ¬åœ°ç¼“å­˜:200)

Expiresæ˜¯HTTP/1.0ä¸­çš„å®šä¹‰ç¼“å­˜çš„å­—æ®µï¼Œå®ƒè§„å®šäº†ç¼“å­˜è¿‡æœŸçš„ä¸€ä¸ªç»å¯¹æ—¶é—´ã€‚Cache-Control:max-age=2592000æ˜¯HTTP/1.1å®šä¹‰çš„å…³äºç¼“å­˜çš„å­—æ®µï¼Œå®ƒè§„å®šäº†ç¼“å­˜è¿‡æœŸçš„ä¸€ä¸ªç›¸å¯¹æ—¶é—´ã€‚ä¼˜å…ˆçº§ä¸Šå½“ç„¶æ˜¯ç‰ˆæœ¬é«˜çš„ä¼˜å…ˆäº†ï¼Œmax-age > Expiresã€‚

è¿™å°±æ˜¯å¼ºç¼“å­˜é˜¶æ®µï¼Œå½“æµè§ˆå™¨å†æ¬¡è¯•å›¾è®¿é—®è¿™ä¸ªCSSæ–‡ä»¶ï¼Œå‘ç°æœ‰è¿™ä¸ªæ–‡ä»¶çš„ç¼“å­˜ï¼Œé‚£ä¹ˆå°±åˆ¤æ–­æ ¹æ®ä¸Šä¸€æ¬¡çš„å“åº”åˆ¤æ–­æ˜¯å¦è¿‡æœŸï¼Œå¦‚æœæ²¡è¿‡æœŸï¼Œä½¿ç”¨ç¼“å­˜ã€‚åŠ è½½æ–‡ä»¶ï¼ŒOVERï¼

å¤šè¯´ä¸€ç‚¹ï¼šå…³äº**ç¼“å­˜æ˜¯ä»ç£ç›˜ä¸­è·å–è¿˜æ˜¯ä»å†…å­˜ä¸­è·å–**ï¼ŒæŸ¥æ‰¾äº†å¾ˆå¤šèµ„æ–™ï¼Œå¾—å‡ºäº†ä¸€ä¸ªè¾ƒä¸ºå¯ä¿¡çš„ç»“è®ºï¼šChromeä¼šæ ¹æ®æœ¬åœ°å†…å­˜çš„ä½¿ç”¨ç‡æ¥å†³å®šç¼“å­˜å­˜æ”¾åœ¨å“ªï¼Œå¦‚æœå†…å­˜ä½¿ç”¨ç‡å¾ˆé«˜ï¼Œæ”¾åœ¨ç£ç›˜é‡Œé¢ï¼Œå†…å­˜çš„ä½¿ç”¨ç‡å¾ˆé«˜ä¼šæš‚æ—¶æ”¾åœ¨å†…å­˜é‡Œé¢ã€‚è¿™å°±å¯ä»¥æ¯”è¾ƒåˆç†çš„è§£é‡Šäº†ä¸ºä»€ä¹ˆåŒä¸€ä¸ªèµ„æºæœ‰æ—¶æ˜¯from memory cacheæœ‰æ—¶æ˜¯from disk cacheçš„é—®é¢˜äº†ã€‚

#### 2.å¼±ç¼“å­˜é˜¶æ®µ(åå•†ç¼“å­˜ï¼š304)

åˆ©ç”¨è¿™ä¸¤ä¸ªå­—æ®µæµè§ˆå™¨å¯ä»¥è¿›å…¥åå•†ç¼“å­˜é˜¶æ®µï¼Œå½“æµè§ˆå™¨å†æ¬¡è¯•å›¾è®¿é—®è¿™ä¸ªCSSæ–‡ä»¶ï¼Œå‘ç°ç¼“å­˜è¿‡æœŸï¼Œäºæ˜¯ä¼šåœ¨æœ¬æ¬¡è¯·æ±‚çš„è¯·æ±‚å¤´é‡Œæºå¸¦If-Moified-Sinceå’ŒIf-None-Matchè¿™ä¸¤ä¸ªå­—æ®µï¼ŒæœåŠ¡å™¨é€šè¿‡è¿™ä¸¤ä¸ªå­—æ®µæ¥åˆ¤æ–­èµ„æºæ˜¯å¦æœ‰ä¿®æ”¹ï¼Œå¦‚æœæœ‰ä¿®æ”¹åˆ™è¿”å›çŠ¶æ€ç 200å’Œæ–°çš„å†…å®¹ï¼Œå¦‚æœæ²¡æœ‰ä¿®æ”¹è¿”å›çŠ¶æ€ç 304ï¼Œæµè§ˆå™¨æ”¶åˆ°200çŠ¶æ€ç ï¼Œè¯¥å’‹å¤„ç†å°±å’‹å¤„ç†(ç›¸å½“äºé¦–æ¬¡è®¿é—®è¿™ä¸ªæ–‡ä»¶äº†)ï¼Œå‘ç°è¿”å›304ï¼Œäºæ˜¯çŸ¥é“äº†æœ¬åœ°ç¼“å­˜è™½ç„¶è¿‡æœŸä½†ä»ç„¶å¯ä»¥ç”¨ï¼Œäºæ˜¯åŠ è½½æœ¬åœ°ç¼“å­˜ã€‚ç„¶åæ ¹æ®æ–°çš„è¿”å›çš„å“åº”å¤´æ¥è®¾ç½®ç¼“å­˜ã€‚(è¿™ä¸€æ­¥æœ‰æ‰€å·®å¼‚ï¼Œå‘ç°ä¸åŒæµè§ˆå™¨çš„å¤„ç†æ˜¯ä¸åŒçš„ï¼Œchromeä¼šä¸º304è®¾ç½®ç¼“å­˜ï¼Œfirefoxåˆ™ä¸ä¼š)ğŸ˜‘

å…·ä½“ä¸¤ä¸ªå­—æ®µæºå¸¦çš„å†…å®¹å¦‚ä¸‹(åˆ†åˆ«å’Œä¸Šé¢çš„Last-Modifiedã€ETagæºå¸¦çš„å€¼å¯¹åº”)ï¼š


> If-Moified-Since: Tue, 28 Nov 2017 05:14:02 GMT <br>
> If-None-Match: W/"5a1cf09a-63c6"

æœ€åä¸€å¼ å›¾å±•ç¤ºè¿‡ç¨‹ï¼š

![](https://user-gold-cdn.xitu.io/2016/11/29/c4577e72b1127c71e8d9e369290e5810.jpg?imageView2/0/w/1280/h/960/format/webp/ignore-error/1)



